â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘            UV LIGHT SIMULATOR - LARGE SCALE BENCHMARKING QUICK START        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. RUN THE BENCHMARK SUITE (15-20 minutes)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   
   $ cd /home/samdower/caustic
   $ python site/backend/benchmark.py
   
   This will:
   â€¢ Test grid_cell_size values (Phase 1)
   â€¢ Verify scaling with more points (Phase 2)
   â€¢ Test multiple lights (Phase 3)
   â€¢ Measure reflection overhead (Phase 4)
   â€¢ Estimate full workload (Phase 5)


2. FIND YOUR OPTIMAL GRID_CELL_SIZE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   
   From Phase 1 output, look for the FASTEST timing:
   
   Config           Grid     Time (s)   â† Find lowest value
   ====================================================
   Phase1: grid=0.5   0.5      2.45
   Phase1: grid=1.0   1.0      1.89
   Phase1: grid=2.0   2.0      1.52
   Phase1: grid=5.0   5.0      1.45  âœ“ BEST
   Phase1: grid=10.0  10.0     2.10
   
   â†’ Use 5.0 in your configs


3. UPDATE YOUR CONFIGURATION
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   
   Edit: site/backend/test.py (line 182)
   
   Before:
   IntensityConfig(max_bounces=0, grid_cell_size=5, photons_per_light=10, verbose=True)
   
   After (using Phase 1 result):
   IntensityConfig(max_bounces=0, grid_cell_size=5.0, photons_per_light=10, verbose=True)


4. SCALE UP GRADUALLY
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   
   Configuration Progression:
   
   Step 1: Interactive Preview (fast)
   â”œâ”€ max_bounces=0
   â”œâ”€ points=50
   â”œâ”€ lights=1-2
   â”œâ”€ photons=10
   â””â”€ Estimated: 10-30 seconds
   
   Step 2: Medium Quality (moderate)
   â”œâ”€ max_bounces=0
   â”œâ”€ points=100-500
   â”œâ”€ lights=5-10
   â”œâ”€ photons=10
   â””â”€ Estimated: 1-5 minutes
   
   Step 3: Production Quality (slow)
   â”œâ”€ max_bounces=1
   â”œâ”€ points=500-1000
   â”œâ”€ lights=10
   â”œâ”€ photons=100-200
   â””â”€ Estimated: 5-15 minutes
   
   Step 4: High Quality (very slow)
   â”œâ”€ max_bounces=1
   â”œâ”€ points=1000
   â”œâ”€ lights=10
   â”œâ”€ photons=500-1000
   â””â”€ Estimated: 15-30 minutes


5. OPTIMIZE IF NEEDED
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   
   If too slow:
   â€¢ Reduce photons_per_light (50â†’100 is usually enough)
   â€¢ Disable reflections (max_bounces=0 for preview)
   â€¢ Reduce point count (500 instead of 1000)
   
   If too noisy:
   â€¢ Increase photons_per_light (100â†’500)
   â€¢ Add more bounce (max_bounces=0â†’1)
   â€¢ Keep fewer, better-placed points


6. MONITOR PERFORMANCE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   
   Running simulation with verbose=True shows:
   
   Starting photon tracing for 10 light(s)
   Tracing 500 photons per light (max bounces: 1)
   
     Light 1/10: Tracing 500 photons
       Photons traced: 50/500
       Photons traced: 100/500
       ...
   
   Results show:
   â€¢ Direct intensity: Fast (mostly flat line)
   â€¢ Indirect intensity: Time increases with photons


7. USEFUL COMMANDS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   
   Get auto-calculated grid size:
   $ python -c "
   from caustic.spatial.grid import calculate_optimal_cell_size
   from site.backend.benchmark import load_airplane_triangles
   
   t = load_airplane_triangles('site/backend/settings/half_plane_interior_triangles.json')
   print(f'Optimal grid_cell_size: {calculate_optimal_cell_size(t):.2f}')
   "
   
   Quick 50-point test (5 seconds):
   $ python site/backend/test.py  # Check metrics
   
   Run only Phase 1 of benchmark (5 minutes):
   # Edit benchmark.py, comment out phases 2-5
   $ python site/backend/benchmark.py


8. EXPECTED RESULTS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   
   Airplane Interior (400k+ triangles):
   
   Config                           Estimated Time
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   50 pts, 1 light, direct             10-15 seconds
   100 pts, 5 lights, direct           50-100 seconds
   500 pts, 10 lights, direct          5-10 minutes
   1000 pts, 10 lights, 1 bounce       10-20 minutes
   1000 pts, 10 lights, 2 bounces      30-60 minutes


9. TROUBLESHOOTING
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   
   Problem: Benchmark takes too long
   Solution: 
   â€¢ Skip phases 4-5 (edit benchmark.py)
   â€¢ Extrapolate from earlier phases
   
   Problem: Memory issues with large point sets
   Solution:
   â€¢ Reduce photons_per_light
   â€¢ Enable clustering_distance
   â€¢ Process in batches
   
   Problem: Simulation crashes
   Solution:
   â€¢ Check error message (usually out of memory)
   â€¢ Reduce problem size
   â€¢ Profile with: python -m cProfile -s cumulative site/backend/test.py


10. DOCUMENTATION
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    Full guides available:
    â€¢ BENCHMARK_GUIDE.md      - Detailed benchmark explanation
    â€¢ OPTIMIZATION_SUMMARY.md - Technical details of all optimizations
    â€¢ QUICK_START.txt         - This file


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ready to benchmark? Run:

  python site/backend/benchmark.py

Good luck! ğŸš€
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
